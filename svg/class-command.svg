<?xml version="1.0" encoding="UTF-8" standalone="yes"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="911px" style="width:954px;height:911px;" version="1.1" viewBox="0 0 954 911" width="954px"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="179" x="404" y="16.708">Command Structure</text><polygon fill="#FFFFFF" points="22,44.9531,162,44.9531,169,67.25,953,67.25,953,910.9531,22,910.9531,22,44.9531" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="22" x2="169" y1="67.25" y2="67.25"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="134" x="25" y="60.9482">Joomla.Command</text><rect fill="#FFFFFF" height="124.8281" style="stroke: #000000; stroke-width: 1.5;" width="209" x="107.75" y="82.4531"/><ellipse cx="177" cy="98.4531" fill="#FFFFFF" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><path d="M179.9688,104.0938 Q179.3906,104.3906 178.75,104.5391 Q178.1094,104.6875 177.4063,104.6875 Q174.9063,104.6875 173.5859,103.0391 Q172.2656,101.3906 172.2656,98.2656 Q172.2656,95.1406 173.5859,93.4844 Q174.9063,91.8281 177.4063,91.8281 Q178.1094,91.8281 178.7578,91.9844 Q179.4063,92.1406 179.9688,92.4375 L179.9688,95.1563 Q179.3438,94.5781 178.75,94.3047 Q178.1563,94.0313 177.5313,94.0313 Q176.1875,94.0313 175.5,95.1016 Q174.8125,96.1719 174.8125,98.2656 Q174.8125,100.3594 175.5,101.4297 Q176.1875,102.5 177.5313,102.5 Q178.1563,102.5 178.75,102.2266 Q179.3438,101.9531 179.9688,101.375 L179.9688,104.0938 Z "/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="197.5" y="103.2256">Controller</text><line style="stroke: #000000; stroke-width: 1.5;" x1="108.75" x2="315.75" y1="114.4531" y2="114.4531"/><polygon fill="none" points="118.75,121.3555,122.75,125.3555,118.75,129.3555,114.75,125.3555" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="127.75" y="128.6636">CommandProcessor</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="63" x="247.75" y="128.6636">processor</text><polygon fill="none" points="118.75,134.1602,122.75,138.1602,118.75,142.1602,114.75,138.1602" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="127.75" y="141.4683">Command[]</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="197.75" y="141.4683">commands</text><polygon fill="none" points="118.75,146.9648,122.75,150.9648,118.75,154.9648,114.75,150.9648" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="127.75" y="154.2729">Dispatcher</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="192.75" y="154.2729">dispatcher</text><line style="stroke: #000000; stroke-width: 1.5;" x1="108.75" x2="315.75" y1="160.8672" y2="160.8672"/><ellipse cx="118.75" cy="172.7695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="127.75" y="175.0776">add</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="66" x="150.75" y="175.0776">(Command)</text><ellipse cx="118.75" cy="185.5742" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93" x="127.75" y="187.8823">addCommands</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="74" x="220.75" y="187.8823">(Command[])</text><ellipse cx="118.75" cy="198.3789" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="127.75" y="200.687">run</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="148.75" y="200.687">(Input, Output)</text><polygon fill="#FFFFE0" points="517.75,81.4531,517.75,208.125,804.75,208.125,804.75,91.4531,794.75,81.4531,517.75,81.4531" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#FFFFE0" points="517.75,81.4531,517.75,140.9531,316.357,144.9531,517.75,148.9531,517.75,208.125,804.75,208.125,804.75,91.4531,794.75,81.4531,517.75,81.4531" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="794.75" x2="794.75" y1="81.4531" y2="91.4531"/><line style="stroke: #000000; stroke-width: 1.0;" x1="804.75" x2="794.75" y1="91.4531" y2="91.4531"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="227" x="523.75" y="98.5176">run(Input $input, Output $output) {</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="250" x="539.75" y="113.1016">// Determine command name from input</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="239" x="539.75" y="127.6855">$this-&gt;processor-&gt;executeCommand(</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="230" x="555.75" y="142.2695">$this-&gt;commands[$commandName],</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="555.75" y="156.8535">$input,</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="555.75" y="171.4375">$output</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="10" x="539.75" y="186.0215">);</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="8" x="523.75" y="200.6055">}</text><rect fill="#FFFFFF" height="99.2188" style="stroke: #000000; stroke-width: 1.5;" width="254" x="154" y="445.4531"/><ellipse cx="246.25" cy="461.4531" fill="#FFFFFF" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><path d="M242.1719,457.2188 L242.1719,455.0625 L249.5625,455.0625 L249.5625,457.2188 L247.0938,457.2188 L247.0938,465.2969 L249.5625,465.2969 L249.5625,467.4531 L242.1719,467.4531 L242.1719,465.2969 L244.6406,465.2969 L244.6406,457.2188 L242.1719,457.2188 Z "/><text fill="#000000" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="266.75" y="466.2256">Command</text><line style="stroke: #000000; stroke-width: 1.5;" x1="155" x2="407" y1="477.4531" y2="477.4531"/><line style="stroke: #000000; stroke-width: 1.5;" x1="155" x2="407" y1="485.4531" y2="485.4531"/><ellipse cx="165" cy="497.3555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="32" x="174" y="499.6636">string</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="210" y="499.6636">getName</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="12" x="265" y="499.6636">();</text><ellipse cx="165" cy="510.1602" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="32" x="174" y="512.4683">string</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="92" x="210" y="512.4683">getDescription</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="12" x="302" y="512.4683">();</text><ellipse cx="165" cy="522.9648" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="174" y="525.2729">execute</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="82" x="222" y="525.2729">(Input, Output)</text><ellipse cx="165" cy="535.7695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="174" y="538.0776">setDispatcher</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="142" x="260" y="538.0776">(Dispatcher $dispatcher);</text><rect fill="#FFFFFF" height="73.6094" style="stroke: #000000; stroke-width: 1.5;" width="164" x="38" y="648.9531"/><ellipse cx="53" cy="664.9531" fill="#FFFFFF" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><path d="M48.9219,660.7188 L48.9219,658.5625 L56.3125,658.5625 L56.3125,660.7188 L53.8438,660.7188 L53.8438,668.7969 L56.3125,668.7969 L56.3125,670.9531 L48.9219,670.9531 L48.9219,668.7969 L51.3906,668.7969 L51.3906,660.7188 L48.9219,660.7188 Z "/><text fill="#000000" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="67" y="669.7256">RecoverableCommand</text><line style="stroke: #000000; stroke-width: 1.5;" x1="39" x2="201" y1="680.9531" y2="680.9531"/><line style="stroke: #000000; stroke-width: 1.5;" x1="39" x2="201" y1="688.9531" y2="688.9531"/><ellipse cx="49" cy="700.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="58" y="703.1636">undo</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="90" y="703.1636">()</text><ellipse cx="49" cy="713.6602" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="58" y="715.9683">redo</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="8" x="86" y="715.9683">()</text><rect fill="#FFFFFF" height="60.8047" style="stroke: #000000; stroke-width: 1.5;" width="163" x="642.75" y="464.4531"/><ellipse cx="688" cy="480.4531" fill="#FFFFFF" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><path d="M683.9219,476.2188 L683.9219,474.0625 L691.3125,474.0625 L691.3125,476.2188 L688.8438,476.2188 L688.8438,484.2969 L691.3125,484.2969 L691.3125,486.4531 L683.9219,486.4531 L683.9219,484.2969 L686.3906,484.2969 L686.3906,476.2188 L683.9219,476.2188 Z "/><text fill="#000000" font-family="Verdana" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="64" x="708.5" y="485.2256">Dispatcher</text><line style="stroke: #000000; stroke-width: 1.5;" x1="643.75" x2="804.75" y1="496.4531" y2="496.4531"/><line style="stroke: #000000; stroke-width: 1.5;" x1="643.75" x2="804.75" y1="504.4531" y2="504.4531"/><ellipse cx="653.75" cy="516.3555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42" x="662.75" y="518.6636">trigger</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="95" x="704.75" y="518.6636">(string, mixed...)</text><rect fill="#FFFFFF" height="124.8281" style="stroke: #000000; stroke-width: 1.5;" width="259" x="237.75" y="623.4531"/><ellipse cx="313" cy="639.4531" fill="#FFFFFF" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><path d="M315.9688,645.0938 Q315.3906,645.3906 314.75,645.5391 Q314.1094,645.6875 313.4063,645.6875 Q310.9063,645.6875 309.5859,644.0391 Q308.2656,642.3906 308.2656,639.2656 Q308.2656,636.1406 309.5859,634.4844 Q310.9063,632.8281 313.4063,632.8281 Q314.1094,632.8281 314.7578,632.9844 Q315.4063,633.1406 315.9688,633.4375 L315.9688,636.1563 Q315.3438,635.5781 314.75,635.3047 Q314.1563,635.0313 313.5313,635.0313 Q312.1875,635.0313 311.5,636.1016 Q310.8125,637.1719 310.8125,639.2656 Q310.8125,641.3594 311.5,642.4297 Q312.1875,643.5 313.5313,643.5 Q314.1563,643.5 314.75,643.2266 Q315.3438,642.9531 315.9688,642.375 L315.9688,645.0938 Z "/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="333.5" y="644.2256">MacroCommand</text><line style="stroke: #000000; stroke-width: 1.5;" x1="238.75" x2="495.75" y1="655.4531" y2="655.4531"/><line style="stroke: #000000; stroke-width: 1.5;" x1="238.75" x2="495.75" y1="663.4531" y2="663.4531"/><ellipse cx="248.75" cy="675.3555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="257.75" y="677.6636">string</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="294.75" y="677.6636">getName</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="12" x="351.75" y="677.6636">();</text><ellipse cx="248.75" cy="688.1602" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="257.75" y="690.4683">string</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="294.75" y="690.4683">getDescription</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="12" x="388.75" y="690.4683">();</text><ellipse cx="248.75" cy="700.9648" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="257.75" y="703.2729">execute</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="308.75" y="703.2729">(Input, Output)</text><ellipse cx="248.75" cy="713.7695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="257.75" y="716.0776">setDispatcher</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="346.75" y="716.0776">(Dispatcher $dispatcher);</text><ellipse cx="248.75" cy="726.5742" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="257.75" y="728.8823">add</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="281.75" y="728.8823">(Command)</text><ellipse cx="248.75" cy="739.3789" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="257.75" y="741.687">addCommands</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="74" x="351.75" y="741.687">(Command[])</text><polygon fill="#FFFFE0" points="210.75,811.4531,210.75,894.373,523.75,894.373,523.75,821.4531,513.75,811.4531,210.75,811.4531" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#FFFFE0" points="210.75,811.4531,210.75,894.373,523.75,894.373,523.75,821.4531,513.75,811.4531,371,811.4531,367,748.8621,363,811.4531,210.75,811.4531" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="513.75" x2="513.75" y1="811.4531" y2="821.4531"/><line style="stroke: #000000; stroke-width: 1.0;" x1="523.75" x2="513.75" y1="821.4531" y2="821.4531"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="256" x="216.75" y="828.5176">execute(Input $input, Output $output) {</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="232.75" y="843.1016">foreach ($this-&gt;commands as $command) {</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="245" x="248.75" y="857.6855">$command-&gt;execute($input, $output);</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="8" x="232.75" y="872.2695">}</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="8" x="216.75" y="886.8535">}</text><rect fill="#FFFFFF" height="73.6094" style="stroke: #000000; stroke-width: 1.5;" width="206" x="178" y="289.9531"/><ellipse cx="215.05" cy="305.9531" fill="#FFFFFF" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><path d="M218.0188,311.5938 Q217.4406,311.8906 216.8,312.0391 Q216.1594,312.1875 215.4563,312.1875 Q212.9563,312.1875 211.6359,310.5391 Q210.3156,308.8906 210.3156,305.7656 Q210.3156,302.6406 211.6359,300.9844 Q212.9563,299.3281 215.4563,299.3281 Q216.1594,299.3281 216.8078,299.4844 Q217.4563,299.6406 218.0188,299.9375 L218.0188,302.6563 Q217.3938,302.0781 216.8,301.8047 Q216.2063,301.5313 215.5813,301.5313 Q214.2375,301.5313 213.55,302.6016 Q212.8625,303.6719 212.8625,305.7656 Q212.8625,307.8594 213.55,308.9297 Q214.2375,310 215.5813,310 Q216.2063,310 216.8,309.7266 Q217.3938,309.4531 218.0188,308.875 L218.0188,311.5938 Z "/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="125" x="233.95" y="310.7256">CommandProcessor</text><line style="stroke: #000000; stroke-width: 1.5;" x1="179" x2="383" y1="321.9531" y2="321.9531"/><polygon fill="none" points="189,328.8555,193,332.8555,189,336.8555,185,332.8555" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="198" y="336.1636">Dispatcher</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="68" x="263" y="336.1636">dispatcher</text><line style="stroke: #000000; stroke-width: 1.5;" x1="179" x2="383" y1="342.7578" y2="342.7578"/><ellipse cx="189" cy="354.6602" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114" x="198" y="356.9683">executeCommand</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="312" y="356.9683">(Command)</text><polygon fill="#FFFFE0" points="453.75,270.9531,453.75,383.041,936.75,383.041,936.75,280.9531,926.75,270.9531,453.75,270.9531" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#FFFFE0" points="453.75,270.9531,453.75,322.9531,384.096,326.9531,453.75,330.9531,453.75,383.041,936.75,383.041,936.75,280.9531,926.75,270.9531,453.75,270.9531" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="926.75" x2="926.75" y1="270.9531" y2="280.9531"/><line style="stroke: #000000; stroke-width: 1.0;" x1="936.75" x2="926.75" y1="280.9531" y2="280.9531"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="462" x="459.75" y="288.0176">executeCommand(Command $command, Input $input, Output $output) {</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="383" x="475.75" y="302.6016">if ($this-&gt;dispatcher-&gt;trigger('beforeExecute', $command)) {</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="295" x="491.75" y="317.1855">$command-&gt;setDispatcher($this-&gt;dispatcher);</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="245" x="491.75" y="331.7695">$command-&gt;execute($input, $output);</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="344" x="491.75" y="346.3535">$this-&gt;dispatcher-&gt;trigger('afterExecute', $command);</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="8" x="475.75" y="360.9375">}</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="8" x="459.75" y="375.5215">}</text><path d="M226.393,560.0571 C201.208,589.6221 172.239,623.6291 150.895,648.6851 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="none" points="221.24,555.3111,239.538,544.6251,231.898,564.3891,221.24,555.3111" style="stroke: #000000; stroke-width: 1.0;"/><path d="M408.243,494.9531 C481.742,494.9531 572.263,494.9531 637.513,494.9531 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="642.56,494.9531,633.56,490.9531,637.56,494.9531,633.56,498.9531,642.56,494.9531" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="66" x="491.75" y="488.0176">dispatcher</text><path d="M300.53,563.9411 C303.997,573.8131 307.843,583.7441 312,592.9531 C316.556,603.0441 321.965,613.4151 327.585,623.3891 " fill="none" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="293.777,565.8161,294.161,544.6301,307.073,561.4311,293.777,565.8161" style="stroke: #000000; stroke-width: 1.0;"/><path d="M333.437,611.1931 C325.196,593.0821 316.469,573.9031 308.549,556.4961 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="303.147,544.6251,303.2337,554.4736,305.2178,549.1761,310.5153,551.1603,303.147,544.6251" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="305.2178" x2="308.5315" y1="549.1761" y2="556.4576"/><polygon fill="none" points="338.908,623.2171,340.0635,616.0992,333.9375,612.2949,332.782,619.4129,338.908,623.2171" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="325" y="588.5176">commands</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="279.4333" y="564.6848">1..n</text><path d="M235.649,207.6471 C245.447,233.2051 256.544,262.1541 265.308,285.0181 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="267.142,289.8021,267.6575,279.9668,265.3532,285.133,260.187,282.8288,267.142,289.8021" style="stroke: #000000; stroke-width: 1.0;"/><path d="M281,363.9731 C281,386.2281 281,415.2041 281,440.1481 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="281,445.4051,285,436.4051,281,440.4051,277,436.4051,281,445.4051" style="stroke: #000000; stroke-width: 1.0;"/><path d="M125.489,217.2921 C111.415,233.3561 98.8822,251.4771 91,270.9531 C72.3254,317.0951 66.2218,339.7801 91,382.9531 C103.7704,405.2041 122.915,423.4191 144.211,438.1841 " fill="none" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="155.169,445.3761,149.8394,437.0939,150.9888,442.6327,145.45,443.7822,155.169,445.3761" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="150.9888" x2="144.3005" y1="442.6327" y2="438.2431"/><polygon fill="none" points="134.423,207.5611,127.4187,209.2757,126.3074,216.4007,133.3117,214.6861,134.423,207.5611" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="92" y="331.5176">commands</text><text fill="#000000" font-family="Verdana" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="24" x="122.1428" y="439.1225">1..n</text></g></svg>